---
**title**: Linux 简介与基本操作
time: 2020年7月11日

---

[toc]

## 一、Linux 简介



Linux 是内核，基于这个内核有一系列的操作系统。

本次选型的操作系统是 Ubuntu。



Linux 的安装：请看视频教程[008 Linux-简介]()中 09:24~最后。

## 二、Linux 远程控制

### 2.1 概述

传统的网络服务程序，FTP、POP、Telnet 本质上都是不安全的，因为它们在网络上通过明文传送口令和数据，这些数据非常容易被截获。SSH 叫做 Secure Shell，通过 SSH，可以把传输数据进行加密，预防攻击，传输的数据进行了压缩，可以加快传输速度。



### 2.2 OpenSSH

SSH 是芬兰一家公司开发，但是受到版权和加密算法限制，现在很短风都使用 OpenSSH，OpenSSH 是 SSh 的替代软件，，是免费的。OpenSSH 由客户端和服务器组成。

- **基于口令的安全验证**：知道服务器的账号密码即可远程登录，口令和数据在传输过程中都会被加密；
- **基于密钥的安全验证**：此时需要在创建一对密钥，把公有密钥放到远程服务器上自己的宿主目录中，而私有密钥则由自己保存；



> Windows 能够用到什么水平，Linux 就应该能够用到什么水平——
>
> 两者都是操作系统，只要了解原理，那这两个系统就应该可以用到相同的水平；



### 2.3 Linux 目录管理

Linux 目录管理如下表所示：

|  目录   |                             说明                             |
| :-----: | :----------------------------------------------------------: |
| **bin** | 存放二进制可执行文件（例如：命令 ls，cat, mkdir 对应的二进制文件）等 |
|  boot   |               存放用于系统引导时使用的各种文件               |
|   dev   |                     用于存放系统配置文件                     |
| **etc** |                   存放所有用户文件的根目录                   |
|  home   |     存放跟文件系统中的程序运行所需要的共享库以及内核模块     |
|   lib   |              系统管理员安装临时文件系统的安装点              |
|   mnt   |              额外安装的可选应用程序包所放的位置              |
|   opt   |               虚拟文件系统，存放当前内存的映射               |
|  proc   |                         超级用户目录                         |
|  root   |           存放二进制可执行文件，只有root 才能访问            |
|  sbin   |                     用于存放各种临时文件                     |
|   tmp   |                     用于存放各种临时文件                     |
| **usr** | 用于存放系统应用程序，比较重要的目录 /usr/local 本地管理员软件安装目录 |
| **var** |               用于存放运行时需要改变数据的文件               |

重点只需要关注加粗的四个目录即可。

- 不成文的规定：自己手动安装的应用程序必须安装在 /usr/local目录中；

> 当安装软件的时候，往往都会存在三种类型的文件：① 二进制可执行文建； ② 配置文件； ③ 数据文件（例如，MySQL 中的 my.ini command.exe data 就分别对应了这三种类型的文件。）



### 2.4 操作文件目录

常见命令：

|        说明        |  命令  | 备注 |
| :----------------: | :----: | :--: |
| 查看列表的详细信息 | ls -al |      |
|                    |        |      |
|                    |        |      |



> 命令都是熟能生巧的过程，只有通过多练习这一条路。在练习的时候，先看命令的中文意思，然后再根据中文回忆对应的命令以及参数，这时更加容易记住。



默认所有手动安装的软件都是放在 /usr/local 目录下



安装软件，最重要的就是三个：

1. 配置文件；/etc
2. 数据文件；/var
3. 可执行文件；/bin



## 三、 Linux 系统管理

### 3.1 系统管理命令

|   命令   |                       解析                       |
| :------: | :----------------------------------------------: |
|   stat   | 显示指定文件的相关信息，比 ls 命令显示内容更丰富 |
|   who    |                显示在线登录的用户                |
| hostname |                   显示主机名称                   |
|  uname   |                   显示系统信息                   |
|   top    |         显示当前系统中耗费资源最多的进程         |
|    ps    |                显示瞬时的进程状态                |
|    du    | 显示指定的文件（目录）已经被使用的磁盘空间的总量 |
|    df    |          显示文件系统磁盘空间的使用情况          |
|   free   |         显示当前内存和交换空间的使用情况         |
| ifconfig |                 显示网络接口信息                 |
|   ping   |           测试网络的连通性（心跳检测）           |
| netstat  |                显示网络的状态信息                |
|  clear   |                       清屏                       |
|   kill   |                   杀死一个进程                   |



> 使用 netstat 可以用来显示网络的状态信息（例如哪个端口号是否已经启动了），使用这个命令我们可以检测当前系统是否中了木马。
>
> Windows 窗口 → （专业术语称之为“句柄”） → 监听句柄，识别键盘输入 → 盗号



## 四、Linux Vim 编辑器

### 4.1 概述

Vim 是从 Vi 发展出来的一个文本编辑器，代码不全、编译及错误跳转等方便编程的功能特别丰富。在程序员人群中广泛使用。



### 4.2 运行模式

- 编辑模式：等待编辑命令输入；
- 插入模式：编辑模式下，输入 `i` 进入插入模式，进入以后，就可以输入文本信息了；
- 命令模式：在编辑模式下，输入 `:`  进入命令模式；



### 4.3 命令模式

- `:q `：直接退出 vi；
- `:wq `： 保存后退出 vi，（当被编辑的文件不存在时，可以自动新建文件）；
- `:q! `： 强制退出；
- `:w file` ： 将当前内容保存成某个文件；
- `/ `： 查找字符串；
- `:set number` ： 在编辑文件中显示行号；
- `:set nonumber `： 不显示行号；
- `:set paste `： 原样粘贴；



## 五、Linux 用户和组管理

### 5.1 概述

Linux 操作系统时一个多用户操作系统，它允许多用户同时登陆到系统中并使用资源。系统会根据账户来区分每个用户的文件、进程、任务和工作环境，使得每个用户的工作都不受干扰。



### 5.2 使用 Root 用户



注销当前用户：<kbd>Ctrl + D</kbd>。注销功能会按照用户的登陆顺序的倒序进行退出（**栈**结构）。



默认情况下，root 用户不允许远程连接，需要修改配置才能进行远程连接



[修改 root 密码]()



### 5.3 用户账户说明

- **普通用户**：普通用户在系统上的任务时进行普通操作；
- **超级管理员**：管理员在系统上的任务时对普通用户和整个系统进行管理。对系统具有绝对的控制权，能够对系统进行一切操作。root 用户能够在系统中拥有最高权限。
  默认情况下，Ubuntu 用户的 root 用户是不能登录的；
- **安装时创建的系统用户**：此用户创建时被添加到 admin 组中，在 Ubuntu 中，admin 组中的用户默认是可以使用 `sudo `命令来执行『只有管理员才能执行的命令』。如果不使用 `sudo `，此时就相当于一个普通用户；

### 5.4 组账户说明

- **私有组**：当创建一个用户时没有指定该用户属于哪一个组，Linux 就会建立一个与用户同名的私有组，此私有组只含有该用户；
- **标准组**：当创建一个用户时就可以选定一个标准组，如果一个用户同时属于多个组时，登陆后所属的组为主组，其他的为附加组；

​	

## 六、Linux 文件权限管理

### 6.1 概述

`ls` 命令不带参数时只显示文件名称，通过添加参数 `al`（完整命令为：`ls -al`）则可以显示文件或目录的权限信息；

`ls -l `文件名，显示信息包括：① 文件类型（d` `为目录，-` `为普通文件，`l `为链接文件）； ② 文件权限； ③ 文件的用户； ④ 文件的所属组； ⑤ 文件的大小； ⑥ 文件的创建时间； ⑦ 文件的名称；）



下面使用一个例子详细讲解：

`-rw-r--r-- 1 root root    0 Jul 16 11:43 1.txt`

- 我们先看第一部分：``-rw-r--r--`：
  划分方法为：① `-` ； ② `rw-`； ③ `r--`； ④` r--`；

  - 第一个字符代表的是文件类型：（1）- 表示普通文件；
  - 第 ② 部分表示：用户权限； 值 rwx 分别表示“可读可写可执行”；- 表示没有该权限；
  - 第 ③ 部分表示：用户所在组权限；
  - 第 ④ 部分表示：其他用户权限；

  上面的一部分所表示的内容是：这个一个文件，这个文件是**可读可写不可执行**的类型；对于当前用户组来说是**只读类型**；对于其他用户组来说是**只读类型**；

- `1` ：连接数；

- `root` ： 文档所属组用户；

- `root` ： 文档所属组；

- `0 `： 文档大小；

- `Jul 16 11:43 `： 文档最后被修改日期；

- `1.txt` ： 文档名称；



执行 sh 文件的方法：通过『相对路径』或『绝对路径』来执行。



### 6.2 更改操作权限





多看看这部分视频